TODO:

move transport/ip here?  IP is not a transport