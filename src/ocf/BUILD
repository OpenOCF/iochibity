cc_library(
    name = "ocf",
    deps = ["//src/ocf:interface",
            "//src/ocf:impl"]
)

cc_library(
    name = "interface",
    # copts = ["-Isrc/portability",
    #          "-Isrc/comm/common",
    #          "-Isrc/comm/include",
    #          "-Isrc/comm/util",
    #          "-Isrc/ocf",
    #          "-Isrc/ocf/internal",
    #          "-Isrc/util",
    #          #"-Isrc/sec/ocsecurity",
    #          "-Ithird_party/coap",
    #          "-Ithird_party/cbor"],
    # deps = ["//src/portability",
    #         "//src/util",       # c_common
    #         "//third_party/cbor",
    #         "//third_party/cjson",
    #         "//src/routing",
    #         "//src/comm"],
    #         #"//src/sec",
    #         #"//src/provisioning"],
    hdrs = ["ocpayload.h",      # sec/psinterface.c
            "internal/ocpayloadcbor.h",
            #"internal/ocstackinternal.h",
            "payload_logging.h",
            "ocpresence.h",
            "ocserverrequest.h", # sec/aclresource.c
            "ocstack.h",
            "ocstackconfig.h",
            "octypes.h"],
    srcs = ["rdpayload.h"],
    visibility = ["//src/sec:__pkg__",
                  "//src/provisioning:__pkg__"]
)

cc_library(
    name = "impl",
    copts = ["-Isrc/portability",
             "-Isrc/comm/common",
             "-Isrc/comm/include",
             "-Isrc/comm/util",
             "-Isrc/ocf",
             "-Isrc/ocf/internal",
             "-Isrc/util",
             #"-Isrc/sec/ocsecurity",
             "-Ithird_party/coap",
             "-Ithird_party/cbor"],
    deps = ["//src/ocf:interface",
            "//src/portability",
            "//src/util",       # c_common
            "//third_party/cbor",
            "//third_party/cjson",
            "//src/routing",
            "//src/comm",       # connectivity
            #"//src/sec",
            "//src/provisioning"],
    srcs = ["occlientcb.c",
            "occlientcb.h",
            "occollection.c",
            "occollection.h",
            "ocobserve.c",
            "ocobserve.h",
            "ocpayload.c",
            #"ocpayload.h",
            "ocpayloadconvert.c",
            "ocpayloadparse.c",
            #"ocpresence.h",
            "ocresource.c",
            "ocresource.h",
            "ocserverrequest.c",
            #"ocserverrequest.h",
            "ocstack.c",
            #"ocstack.h",
            #"octypes.h",
            "oicgroup.c",
            "oicgroup.h",
            "oickeepalive.c",
            "oickeepalive.h",
            "oicresourcedirectory.c",
            "oicresourcedirectory.h",
            "payload_logging.h",
            "rdpayload.c",
            "rdpayload.h",
            #"internal/ocpayloadcbor.h",
            "internal/ocresourcehandler.h",
            "internal/ocstackinternal.h"]
)
