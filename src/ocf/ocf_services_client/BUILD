cc_library(
    name = "ocf_services_client",
    linkstatic = 1,
    alwayslink = True,
    copts = ["-Isrc",
             "-Iexternal/openocf/src",
             "-Isrc/ocf",
             "-Iexternal/openocf/src/ocf",
             "-Isrc/ocf/client",
             "-Iexternal/openocf/src/ocf/client",
             "-Isrc/portability",
             "-Iexternal/openocf/src/portability",
             "-Isrc/util",
             "-Iexternal/openocf/src/util",
             "-Iexternal/libcoap/include"]
    + select({"//config:darwin": ["-U DEBUG"],
              "//config:msvc": [],
              "//conditions:default": ["-std=c11"]}),
    deps = ["//src:config",
            "//src/logger",
            "//src/util",
            "//src/portability",
            "@libcoap//:libcoap"],
    # hdrs = ["client/co_service_provider.h",
    #         "client/co_service_provider_mgr.h"],
    # srcs = ["ocf_services_client/co_service_provider.c",
    #         "ocf_services_client/co_service_provider_mgr.c"],
    hdrs = ["coresource_db_mgr.h",
            "coresource_mgr.h"],
    srcs = ["coresource_db_mgr.c",
            "coresource_mgr.c"],
    visibility = ["//visibility:public"]
)
